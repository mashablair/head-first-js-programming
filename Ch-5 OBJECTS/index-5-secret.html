<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chapter 5 of Head First JS Programming. Objects. Part 2.</title>
</head>
<body>

<script>
// Challenge: I have a secret file and 2 functions to access it and set the contents of the file, but only w/ the right password.

// here is our file object:
var superSecretFile = {
    level: 'classified',
    opened: '0',
    password: 2,
    contents: "Dr. Evel's next meeting is in Detroit."
};

//1st function returns the contents of the file if password is correct, and logs each attempt to access the file:
function getSecret(file, secretPassword) {
    file.opened = file.opened + 1;
    if (secretPassword === file.password) {
        return file.contents;
    } else {
        return 'Invalid password! No secret for you.';
    }
}

//2nd function updates the contents of the file, and resets the access tracking to 0:
function setSecret(file, secretPassword, secret) {
    debugger;
    if (secretPassword === file.password) {
        file.opened = 0;
        file.contents = secret;
    }
}

var secret = getSecret(superSecretFile, superSecretFile.password);
console.log(secret);

setSecret(superSecretFile, superSecretFile.password, "Dr. Evel's next meeting is in Philadelphia.");
secret = getSecret(superSecretFile, superSecretFile.password);
console.log(secret); // why does it print 'in Detroit'??????  -- Ahh, the bug is fixed, the line above was missing!


// Next, see index-5-automatic.html



</script>

</body>
</html>